<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.ks4pl.oasvr.mapper.UserMapper">

    <resultMap id="userResultMap" type="com.ks4pl.oasvr.entity.User">
        <id column="id"  property="id"/>
        <result column="name" property="name"/>
        <result column="departmentId" property="departmentId"/>
        <result column="tel" property="tel"/>
        <result column="state" property="state"/>
        <result column="email" property="email"/>
        <result column="registTime" property="registTime"/>
        <result column="lastLoginTime" property="lastLoginTime"/>
        <result column="passwd" property="passwd"/>
    </resultMap>

    <sql id="allCol">
        id, name, tel, email, departmentId, state, registTime, lastLoginTime, passwd
    </sql>
    <select id="selectUserByTelOrEmail" resultMap="userResultMap" resultType="com.ks4pl.oasvr.entity.User">
        SELECT <include refid="allCol"/>  FROM user
        WHERE tel=#{TelOrEmail} OR email=#{TelOrEmail}
    </select>

</mapper>



